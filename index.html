<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Calendar</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a1a;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            position: relative;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 0 10px;
        }

        .hamburger {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .hamburger:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .month-nav {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-btn {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 18px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .current-month {
            font-size: 24px;
            font-weight: 600;
            min-width: 200px;
            text-align: center;
        }

        /* Toggle Controls */
        .toggle-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .toggle-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .toggle {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #007AFF;
        }

        input:checked + .slider:before {
            transform: translateX(20px);
        }

        .toggle-label {
            font-size: 14px;
            color: #cccccc;
        }

        /* Calendar Container */
        .calendar-container {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            background: #2a2a2a;
            margin-bottom: 30px;
        }

        .calendar-pages {
            display: flex;
            transition: transform 0.3s ease;
            width: 200%;
        }

        .calendar-page {
            width: 50%;
            padding: 20px;
            min-height: 500px;
        }

        /* Month Calendar */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #3a3a3a;
            border-radius: 8px;
            overflow: hidden;
        }

        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #3a3a3a;
            border-radius: 8px 8px 0 0;
            overflow: hidden;
            margin-bottom: 1px;
        }

        .day-header {
            background: #2a2a2a;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 12px;
            color: #999;
        }

        .calendar-day {
            background: #2a2a2a;
            padding: 8px;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            transition: background 0.2s;
            position: relative;
        }

        .calendar-day:hover {
            background: #3a3a3a;
        }

        .calendar-day.other-month {
            color: #666;
        }

        .calendar-day.today {
            background: #007AFF;
            color: white;
        }

        .calendar-day.selected {
            background: #4CAF50;
            color: white;
        }

        .day-number {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .day-events {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .event-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #007AFF;
            margin-bottom: 2px;
        }

        .event-dot.week-event {
            background: #FF9500;
        }

        .event-dot.month-event {
            background: #34C759;
        }

        .event-item {
            padding: 2px 4px;
            font-size: 10px;
            margin-bottom: 2px;
        }

        .event-item.week-event {
            background: rgba(255, 149, 0, 0.2);
            border-left-color: #FF9500;
        }

        .event-item.month-event {
            background: rgba(52, 199, 89, 0.2);
            border-left-color: #34C759;
        }

        /* Week and Month Views */
        .view-container {
            display: flex;
            gap: 20px;
            height: 100%;
        }

        .week-view, .month-view {
            flex: 1;
            background: #1a1a1a;
            border-radius: 8px;
            padding: 15px;
        }

        .view-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #ffffff;
        }

        .view-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .view-events {
            max-height: 400px;
            overflow-y: auto;
        }

        .event-group {
            margin-bottom: 20px;
        }

        .group-header {
            font-weight: 600;
            color: #007AFF;
            margin-bottom: 8px;
            padding-bottom: 4px;
            border-bottom: 1px solid #333;
        }

        .event-list-item {
            padding: 8px 12px;
            background: #2a2a2a;
            border-radius: 6px;
            margin-bottom: 4px;
            font-size: 14px;
        }

        /* Add Event Form */
        .add-event-form {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .add-btn {
            background: #007AFF;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.2s;
        }

        .add-btn:hover {
            background: #0056b3;
        }

        .event-input {
            flex: 1;
            background: #2a2a2a;
            border: 1px solid #444;
            color: white;
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        .event-input:focus {
            outline: none;
            border-color: #007AFF;
        }

        .event-checkboxes {
            display: flex;
            gap: 15px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: #007AFF;
        }

        .checkbox-group label {
            font-size: 12px;
            color: #cccccc;
        }

        /* Page Indicators */
        .page-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #666;
            cursor: pointer;
            transition: background 0.2s;
        }

        .indicator.active {
            background: #007AFF;
        }

        /* Notes Page */
        .notes-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            z-index: 1000;
        }

        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #333;
        }

        .notes-title {
            font-size: 24px;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            color: #007AFF;
            font-size: 16px;
            cursor: pointer;
            padding: 8px;
        }

        .notes-content {
            padding: 20px;
            height: calc(100vh - 80px);
        }

        .notes-input {
            width: 100%;
            height: 100%;
            background: #2a2a2a;
            border: 1px solid #444;
            color: white;
            padding: 20px;
            border-radius: 8px;
            font-size: 16px;
            font-family: inherit;
            resize: none;
            outline: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-container {
                padding: 10px;
            }

            .add-event-form {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .event-checkboxes {
                justify-content: center;
            }

            .view-container {
                flex-direction: column;
            }

            .toggle-controls {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <div class="header">
            <button class="hamburger" onclick="toggleNotes()">☰</button>
            <div class="month-nav">
                <button class="nav-btn" onclick="previousMonth()">‹</button>
                <div class="current-month" id="currentMonth"></div>
                <button class="nav-btn" onclick="nextMonth()">›</button>
            </div>
        </div>

        <!-- Toggle Controls -->
        <div class="toggle-controls" id="toggleControls">
            <div class="toggle-group">
                <label class="toggle">
                    <input type="checkbox" id="hideWeekMonth" onchange="toggleEventVisibility()">
                    <span class="slider"></span>
                </label>
                <span class="toggle-label">Hide Week/Month Events</span>
            </div>
        </div>

        <!-- Add Event Form -->
        <div class="add-event-form">
            <button class="add-btn" id="modeBtn" onclick="toggleMode()">Add</button>
            <input type="text" class="event-input" id="eventInput" placeholder="Enter event name..." onkeypress="handleEnterKey   (event)">
            <div class="event-checkboxes">
                <div class="checkbox-group">
                    <input type="checkbox" id="dayEvent" checked>
                    <label for="dayEvent">Day</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="weekEvent">
                    <label for="weekEvent">Week</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="monthEvent">
                    <label for="monthEvent">Month</label>
                </div>
                <div class="checkbox-group" id="allGroup" style="display:none;">
                    <input type="checkbox" id="allEvent">
                    <label for="allEvent">All</label>
                </div>
            </div>
        </div>

        <!-- Calendar Container -->
        <div class="calendar-container">
            <div class="calendar-pages" id="calendarPages">
                <!-- Page 1: Month Calendar -->
                <div class="calendar-page">
                    <div class="calendar-header">
                        <div class="day-header">Sun</div>
                        <div class="day-header">Mon</div>
                        <div class="day-header">Tue</div>
                        <div class="day-header">Wed</div>
                        <div class="day-header">Thu</div>
                        <div class="day-header">Fri</div>
                        <div class="day-header">Sat</div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>

                <!-- Page 2: Week and Month Views -->
                <div class="calendar-page">
                    <div class="view-container">
                        <div class="week-view">
                            <div class="view-title">Week Events</div>
                            <div class="view-toggle">
                                <label class="toggle">
                                    <input type="checkbox" id="weekViewToggle" onchange="toggleWeekView()">
                                    <span class="slider"></span>
                                </label>
                                <span class="toggle-label">Show Days</span>
                            </div>
                            <div class="view-events" id="weekEvents"></div>
                        </div>
                        <div class="month-view">
                            <div class="view-title">Month Events</div>
                            <div class="view-toggle">
                                <label class="toggle">
                                    <input type="checkbox" id="monthViewToggle" onchange="toggleMonthView()">
                                    <span class="slider"></span>
                                </label>
                                <span class="toggle-label">Show Weeks</span>
                            </div>
                            <div class="view-events" id="monthEvents"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Indicators -->
        <div class="page-indicators">
            <div class="indicator active" onclick="switchPage(0)"></div>
            <div class="indicator" onclick="switchPage(1)"></div>
        </div>

        <!-- Notes Page -->
        <div class="notes-page" id="notesPage">
            <div class="notes-header">
                <div class="notes-title">Notes</div>
                <button class="close-btn" onclick="toggleNotes()">Done</button>
            </div>
            <div class="notes-content">
                <textarea class="notes-input" id="notesInput" placeholder="Start typing your notes here..."></textarea>
            </div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        let selectedDate = null;
        let currentPage = 0;
        let removeMode = false;
        let events = {
            day: {},
            week: {},
            month: {}
        };

        function saveEvents() {
            localStorage.setItem("calendarEvents", JSON.stringify(events));
        }

        function toggleMode() {
            removeMode = !removeMode;
            document.getElementById("modeBtn").textContent = removeMode ? "Remove" : "Add";
            document.getElementById("allGroup").style.display = removeMode ? "flex" : "none";
        }

        // Initialize the calendar
        function init() {
            updateCalendar();
            updateCurrentMonth();
            loadNotes();
            updateToggleControls();
        }

        // Update toggle controls based on current page
        function updateToggleControls() {
            const toggleControls = document.getElementById('toggleControls');
            if (currentPage === 0) {
                toggleControls.innerHTML = `
                    <div class="toggle-group">
                        <label class="toggle">
                            <input type="checkbox" id="hideWeekMonth" onchange="toggleEventVisibility()">
                            <span class="slider"></span>
                        </label>
                        <span class="toggle-label">Hide Week/Month Events</span>
                    </div>
                `;
            } else {
                toggleControls.innerHTML = '';
            }
        }

        // Update current month display
        function updateCurrentMonth() {
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('currentMonth').textContent = 
                `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
        }

        // Navigation functions
        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            updateCalendar();
            updateCurrentMonth();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            updateCalendar();
            updateCurrentMonth();
        }

        // Switch between calendar pages
        function switchPage(pageIndex) {
            currentPage = pageIndex;
            const calendarPages = document.getElementById('calendarPages');
            calendarPages.style.transform = `translateX(-${pageIndex * 50}%)`;
            
            // Update indicators
            document.querySelectorAll('.indicator').forEach((indicator, index) => {
                indicator.classList.toggle('active', index === pageIndex);
            });

            updateToggleControls();
            
            if (pageIndex === 1) {
                updateWeekView();
                updateMonthView();
            }
        }

        // Update calendar grid
        function updateCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';

            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());

            const today = new Date();
            const hideWeekMonth = document.getElementById('hideWeekMonth')?.checked || false;

            for (let i = 0; i < 42; i++) {
                const date = new Date(startDate);
                date.setDate(startDate.getDate() + i);

                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                
                if (date.getMonth() !== currentDate.getMonth()) {
                    dayElement.classList.add('other-month');
                }
                
                if (date.toDateString() === today.toDateString()) {
                    dayElement.classList.add('today');
                }

                if (selectedDate && date.toDateString() === selectedDate.toDateString()) {
                    dayElement.classList.add('selected');
                }

                dayElement.onclick = () => selectDate(date);

                const dayNumber = document.createElement('div');
                dayNumber.className = 'day-number';
                dayNumber.textContent = date.getDate();

                const dayEvents = document.createElement('div');
                dayEvents.className = 'day-events';

                // Add day events
                const dayKey = formatDate(date);
                if (events.day[dayKey]) {
                    events.day[dayKey].forEach(event => {
                        const eventElement = document.createElement('div');
                        eventElement.className = 'event-item';
                        eventElement.textContent = event;
                        eventElement.onclick = () => document.getElementById("eventInput").value = event;
                        dayEvents.appendChild(eventElement);
                    });
                }

                // Add week events
                if (!hideWeekMonth) {
                    const weekKey = getWeekKey(date);
                    if (events.week[weekKey]) {
                        events.week[weekKey].forEach(event => {
                            const eventElement = document.createElement('div');
                            eventElement.className = 'event-item week-event';
                            eventElement.textContent = event;
                            eventElement.onclick = () => document.getElementById("eventInput").value = event;
                            dayEvents.appendChild(eventElement);
                        });
                    }

                    // Add month events
                    const monthKey = getMonthKey(date);
                    if (events.month[monthKey]) {
                        events.month[monthKey].forEach(event => {
                            const eventElement = document.createElement('div');
                            eventElement.className = 'event-item month-event';
                            eventElement.textContent = event;
                            eventElement.onclick = () => document.getElementById("eventInput").value = event;
                            dayEvents.appendChild(eventElement);
                        });
                    }
                }

                dayElement.appendChild(dayNumber);
                dayElement.appendChild(dayEvents);
                calendarGrid.appendChild(dayElement);
            }
        }

        // Select a date
        function selectDate(date) {
            selectedDate = date;
            updateCalendar();
        }

        // Add event
        function addEvent() {
            const input = document.getElementById("eventInput");
            const name = input.value.trim();
            if (!name) return;

            const dayChk = document.getElementById("dayEvent").checked;
            const weekChk = document.getElementById("weekEvent").checked;
            const monthChk = document.getElementById("monthEvent").checked;
            const all = document.getElementById("allEvent").checked;
            const target = selectedDate || new Date();

            if (!removeMode) {
                if (dayChk) {
                    const k = formatDate(target);
                    events.day[k] = events.day[k] || [];
                    events.day[k].push(name);
                }
                if (weekChk) {
                    const k = getWeekKey(target);
                    events.week[k] = events.week[k] || [];
                    events.week[k].push(name);
                }
                if (monthChk) {
                    const k = getMonthKey(target);
                    events.month[k] = events.month[k] || [];
                    events.month[k].push(name);
                }
            } else {
                if (all) {
                    if (dayChk) for (let key in events.day) events.day[key] = events.day[key].filter(e => e !== name);
                    if (weekChk) for (let key in events.week) events.week[key] = events.week[key].filter(e => e !== name);
                    if (monthChk) for (let key in events.month) events.month[key] = events.month[key].filter(e => e !== name);
                } else {
                    if (dayChk) {
                        const k = formatDate(target);
                        events.day[k] = (events.day[k] || []).filter(e => e !== name);
                    }
                    if (weekChk) {
                        const k = getWeekKey(target);
                        events.week[k] = (events.week[k] || []).filter(e => e !== name);
                    }
                    if (monthChk) {
                        const k = getMonthKey(target);
                        events.month[k] = (events.month[k] || []).filter(e => e !== name);
                    }
                }
            }
          
            input.value = "";
            saveEvents();
            updateCalendar();
            updateWeekView();
            updateMonthView();
        }

        // Handle enter key in event input
        function handleEnterKey(event) {
            if (event.key === 'Enter') {
                addEvent();
            }
        }

        // Toggle event visibility
        function toggleEventVisibility() {
            updateCalendar();
        }

        // Update week view
        function updateWeekView() {
            const weekEvents = document.getElementById('weekEvents');
            const showDays = document.getElementById('weekViewToggle')?.checked || false;
            
            weekEvents.innerHTML = '';

            if (showDays) {
                // Show by day within weeks
                Object.keys(events.week).sort().forEach(weekKey => {
                    const weekDate = new Date(weekKey);
                    const weekGroup = document.createElement('div');
                    weekGroup.className = 'event-group';
                    
                    const weekHeader = document.createElement('div');
                    weekHeader.className = 'group-header';
                    weekHeader.textContent = `Week of ${weekDate.toLocaleDateString()}`;
                    weekGroup.appendChild(weekHeader);

                    // Get all days in this week
                    for (let i = 0; i < 7; i++) {
                        const dayDate = new Date(weekDate);
                        dayDate.setDate(weekDate.getDate() + i);
                        const dayKey = formatDate(dayDate);
                        
                        if (events.day[dayKey]) {
                            const dayHeader = document.createElement('div');
                            dayHeader.className = 'group-header';
                            dayHeader.style.fontSize = '14px';
                            dayHeader.style.marginLeft = '20px';
                            dayHeader.textContent = dayDate.toLocaleDateString();
                            weekGroup.appendChild(dayHeader);

                            events.day[dayKey].forEach(event => {
                                const eventItem = document.createElement('div');
                                eventItem.className = 'event-list-item';
                                eventItem.style.marginLeft = '20px';
                                eventItem.textContent = event;
                                weekGroup.appendChild(eventItem);
                            });
                        }
                    }

                    events.week[weekKey].forEach(event => {
                        const eventItem = document.createElement('div');
                        eventItem.className = 'event-list-item';
                        eventItem.textContent = event;
                        weekGroup.appendChild(eventItem);
                    });

                    weekEvents.appendChild(weekGroup);
                });
            } else {
                // Show only week events
                Object.keys(events.week).sort().forEach(weekKey => {
                    const weekDate = new Date(weekKey);
                    const weekGroup = document.createElement('div');
                    weekGroup.className = 'event-group';
                    
                    const weekHeader = document.createElement('div');
                    weekHeader.className = 'group-header';
                    weekHeader.textContent = `Week of ${weekDate.toLocaleDateString()}`;
                    weekGroup.appendChild(weekHeader);

                    events.week[weekKey].forEach(event => {
                        const eventItem = document.createElement('div');
                        eventItem.className = 'event-list-item';
                        eventItem.textContent = event;
                        weekGroup.appendChild(eventItem);
                    });

                    weekEvents.appendChild(weekGroup);
                });
            }
        }

        // Update month view
        function updateMonthView() {
            const monthEvents = document.getElementById('monthEvents');
            const showWeeks = document.getElementById('monthViewToggle')?.checked || false;
            
            monthEvents.innerHTML = '';

            if (showWeeks) {
                // Show by week within months
                Object.keys(events.month).sort().forEach(monthKey => {
                    const monthDate = new Date(monthKey + '-01');
                    const monthGroup = document.createElement('div');
                    monthGroup.className = 'event-group';
                    
                    const monthHeader = document.createElement('div');
                    monthHeader.className = 'group-header';
                    monthHeader.textContent = monthDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
                    monthGroup.appendChild(monthHeader);

                    // Get all weeks in this month
                    Object.keys(events.week).sort().forEach(weekKey => {
                        const weekDate = new Date(weekKey);
                        if (weekDate.getMonth() === monthDate.getMonth() && weekDate.getFullYear() === monthDate.getFullYear()) {
                            const weekHeader = document.createElement('div');
                            weekHeader.className = 'group-header';
                            weekHeader.style.fontSize = '14px';
                            weekHeader.style.marginLeft = '20px';
                            weekHeader.textContent = `Week of ${weekDate.toLocaleDateString()}`;
                            monthGroup.appendChild(weekHeader);

                            events.week[weekKey].forEach(event => {
                                const eventItem = document.createElement('div');
                                eventItem.className = 'event-list-item';
                                eventItem.style.marginLeft = '20px';
                                eventItem.textContent = event;
                                monthGroup.appendChild(eventItem);
                            });
                        }
                    });

                    events.month[monthKey].forEach(event => {
                        const eventItem = document.createElement('div');
                        eventItem.className = 'event-list-item';
                        eventItem.textContent = event;
                        monthGroup.appendChild(eventItem);
                    });

                    monthEvents.appendChild(monthGroup);
                });
            } else {
                // Show only month events
                Object.keys(events.month).sort().forEach(monthKey => {
                    const monthDate = new Date(monthKey + '-01');
                    const monthGroup = document.createElement('div');
                    monthGroup.className = 'event-group';
                    
                    const monthHeader = document.createElement('div');
                    monthHeader.className = 'group-header';
                    monthHeader.textContent = monthDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
                    monthGroup.appendChild(monthHeader);

                    events.month[monthKey].forEach(event => {
                        const eventItem = document.createElement('div');
                        eventItem.className = 'event-list-item';
                        eventItem.textContent = event;
                        monthGroup.appendChild(eventItem);
                    });

                    monthEvents.appendChild(monthGroup);
                });
            }
        }

        // Toggle week view
        function toggleWeekView() {
            updateWeekView();
        }

        // Toggle month view
        function toggleMonthView() {
            updateMonthView();
        }

        // Toggle notes page
        function toggleNotes() {
            const notesPage = document.getElementById('notesPage');
            const isVisible = notesPage.style.display === 'block';
            
            if (isVisible) {
                notesPage.style.display = 'none';
                saveNotes();
            } else {
                notesPage.style.display = 'block';
            }
        }

        // Save notes
        function saveNotes() {
            const notesInput = document.getElementById('notesInput');
            const notes = notesInput.value;
            // Saved to local storage
            localStorage.setItem('notes', JSON.stringify(notes));
            // Test
            console.log('Notes saved:', notes);
        }

        // Load notes
        function loadNotes() {
            // Load from local storage
            const notesInput = localStorage.getItem('notes');
        }

        // Utility functions
        function formatDate(date) {
            return date.toISOString().split('T')[0];
        }

        function getWeekKey(date) {
            const startOfWeek = new Date(date);
            startOfWeek.setDate(date.getDate() - date.getDay());
            return formatDate(startOfWeek);
        }

        function getMonthKey(date) {
            return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;
        }

        window.addEventListener("beforeunload", saveEvents);
        window.addEventListener("beforeunload", saveNotes);
        // Initialize the app
        init();
    </script>
</body>
</html>